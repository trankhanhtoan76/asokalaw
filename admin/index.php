<?phpuse Slim\App;session_start();require 'vendor/autoload.php';require 'config.php';global $app, $config;$app['config'] = $config;$_SESSION['tktframwork_config'] = $config;$app['app'] = new App(array('settings' => $config));$app['container'] = $app['app']->getContainer();$app['container']['upload_directory'] = $config['upload_directory'];require 'system/view.php';require 'system/database.php';require 'system/bootstrap.php';require 'system/BaseController.php';require 'system/BaseFEController.php';//load system helpers$tmps = scandir('system/helpers');foreach ($tmps as $tmp) {    if (is_file('system/helpers/' . $tmp)) {        require 'system/helpers/' . $tmp;    }}//load twig functionif ($tmps = scandir('system/twig_functions')) {    foreach ($tmps as $tmp) {        if (is_file('system/twig_functions/' . $tmp)) {            include 'system/twig_functions/' . $tmp;        }    }}if ($tmps = scandir('system/twig_functions/fields/')) {    foreach ($tmps as $tmp) {        if (is_file('system/twig_functions/fields/' . $tmp)) {            include 'system/twig_functions/fields/' . $tmp;        }    }}//load app controllerif ($tmps = scandir('app/controllers')) {    foreach ($tmps as $tmp) {        if (is_file('app/controllers/' . $tmp)) {            include 'app/controllers/' . $tmp;        }    }}//load theme controllerif (!empty($app['config']['theme'])) {    if ($tmps = scandir($app['config']['theme'] . '/controllers')) {        foreach ($tmps as $tmp) {            if (is_file($app['config']['theme'] . '/controllers/' . $tmp)) {                include $app['config']['theme'] . '/controllers/' . $tmp;            }        }    }}include 'system/router.php';if (!file_exists('upload')) mkdir('upload');if (!file_exists('app/assets/kt')) mkdir('app/assets/kt');/** * run app */try {    $app['app']->run();} catch (Throwable $e) {}